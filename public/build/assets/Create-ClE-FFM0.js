import{_ as _e,d as Be,R as pe,b as fe,f as A,r as v,o as s,c as f,i as y,w as a,T as L,G as g,a as t,k as S,O as Re,B as ye,H as je,aw as Ie,az as qe,aA as Ve,aH as Me,aV as Ke,aT as ze,aU as Ne,Y as He,e as Le,E as We,aZ as Ge,V as Xe,aX as Ye,ak as Je,X as Ze,l as r,t as d,j as U,M as F,ab as Qe,ay as $e,aB as ea,aC as aa,I as ta,n as la,q as oa,aD as na,h as da,aY as ra,aM as sa,a_ as ua,aL as ia,aN as ma,J as ca,b5 as _a,F as pa,C as fa,aG as ya}from"./app-CC-3xOuG.js";import{a as ga}from"./apiAdmin-DesiXmId.js";import{U as va,s as ha}from"./UserSearch-XNcgHacb.js";import{f as ba}from"./fields-jhkJJjuL.js";import{T as ka}from"./SubscriptionModuleVisibility-Bfc6P_Yw.js";import{W as Sa}from"./AddButton-B9f63Hd0.js";import{P as Aa}from"./AddButton-DPpp9yi9.js";import{D as Ca}from"./DateTimePicker-r4QungMo.js";import{A as Oa}from"./AdminPageHeader-DgKrtu1_.js";import{F as Da}from"./FormItemHeading-aBEfgq9H.js";import{A as Ea,f as wa}from"./AddEdit-6dOKmZM6.js";import{s as ce}from"./some-8FXJKLDN.js";import"./index-DqA8eaSV.js";import{S as Pa}from"./SaveOutlined-BxrIMJfO.js";import"./SupplierAddButton-B9VjJ1nj.js";import"./fields-BuUwfKpb.js";import"./Upload-_pl2SnVC.js";import"./AddButton-CO9gHus7.js";import"./AddEdit-D1x5GY3m.js";import"./CustomerAddButton-GMt0psx4.js";import"./UserInfo-Bg1GA5A6.js";import"./BarcodeGenerator-B8RUKf0Q.js";import"./BarcodeOutlined-3pTZs97x.js";import"./PrinterOutlined-DlVwR2np.js";import"./fields-CYzXUms5.js";import"./AddEdit-_52mDnry.js";import"./AddEdit-D50i7r1U.js";import"./AddEdit-Dww87XV0.js";import"./sumBy-B4GLX2n1.js";import"./filter-B3s5bU9V.js";import"./AddEdit-BVw4Zd_m.js";import"./SettingOutlined-BF3UMFea.js";import"./AddButton-BvRuYVgf.js";import"./AddEdit-CewPJi0M.js";import"./_isIterateeCall-DkgYFcVN.js";const xa=Be({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:pe,AddEdit:Ea},setup(l,{emit:n}){const{permsArray:R}=fe(),{initData:e,addEditUrl:V,paymentType:j}=wa(),h=A(!1),b=A("add"),C=A({...e});return{permsArray:R,visible:h,addEditType:b,addEditUrl:V,paymentType:j,formData:C,addEditSuccess:()=>{h.value=!1,C.value={...e},n("onAddSuccess")},onClose:()=>{h.value=!1},showAdd:()=>{h.value=!0}}}}),Ta={key:0};function Fa(l,n,R,e,V,j){const h=Re,b=v("PlusOutlined"),C=ye,E=je,O=v("AddEdit");return l.permsArray.includes(l.paymentType=="in"?"payment_in_create":"payment_out_create")||l.permsArray.includes("admin")?(s(),f("div",Ta,[l.customType=="menu"?(s(),y(h,{onClick:l.showAdd,key:"payments"},{icon:a(()=>[L(l.$slots,"icon")]),default:a(()=>[L(l.$slots,"default")]),_:3},8,["onClick"])):(s(),f(g,{key:1},[l.tooltip?(s(),y(E,{key:0,placement:"topLeft",title:l.$t("payments.add"),"arrow-point-at-center":""},{default:a(()=>[t(C,{onClick:l.showAdd,class:"ml-5 no-border-radius",type:l.btnType},{icon:a(()=>[t(b)]),default:a(()=>[L(l.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(s(),y(C,{key:1,onClick:l.showAdd,class:"ml-5 no-border-radius",type:l.btnType},{icon:a(()=>[t(b)]),default:a(()=>[L(l.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(O,{addEditType:l.addEditType,visible:l.visible,url:l.addEditUrl,onAddEditSuccess:l.addEditSuccess,onClosed:l.onClose,formData:l.formData,data:l.formData,pageTitle:l.$t("payments.add"),successMessage:l.$t("payments.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):S("",!0)}const Ua=_e(xa,[["render",Fa]]),Ba={components:{EyeOutlined:Ie,PlusOutlined:pe,EditOutlined:qe,DeleteOutlined:Ve,ExclamationCircleOutlined:Me,SearchOutlined:Ke,SaveOutlined:Pa,LoadingOutlined:ze,TaxAddButton:ka,WarehouseAddButton:Sa,ProductAddButton:Aa,DateTimePicker:Ca,AdminPageHeader:Oa,UserSearch:va,MinusSquareOutlined:Ne,FormItemHeading:Da,PaymentModeAddButton:Ua},setup(){const{addEditRequestAdmin:l,loading:n,rules:R}=ga(),{appSetting:e,formatAmount:V,formatAmountCurrency:j,taxTypes:h,orderStatus:b,purchaseOrderStatus:C,salesOrderStatus:E,salesReturnStatus:O,purchaseReturnStatus:M,permsArray:W,selectedWarehouse:K}=fe(),{orderItemColumns:m}=ba(),{state:u,orderType:_,orderPageObject:k,selectedProducts:I,formData:q,productsAmount:G,taxes:i,recalculateValues:re,fetchProducts:X,searchValueSelected:Y,quantityChanged:J,recalculateFinalTotal:w,showDeleteConfirm:Z,taxChanged:Q,editItem:B,addEditVisible:$,addEditFormData:ee,addEditFormSubmitting:z,addEditRules:N,addEditPageTitle:H,onAddEditSubmit:ae,onAddEditClose:te,inputValueChanged:le}=ha(),{t:o}=He(),c=A([]),P=A([]),ge=Le(),x=A([]),oe=A([]),ve="payment-modes?limit=10000",se="taxes?limit=10000",ue="units?limit=10000",ie=`warehouses?filters=id ne "${K.value.xid}"&hashable=${K.value.xid}&limit=10000`,ne=A({amount:0,payment_mode_id:void 0}),de=A([]);We(()=>{const p=axiosAdmin.get(se),T=axiosAdmin.get(ue),Ee=axiosAdmin.get(ie),we=axiosAdmin.get(ve);Promise.all([p,T,Ee,we]).then(([Pe,xe,Te,Fe])=>{i.value=Pe.data,P.value=xe.data,c.value=Te.data,oe.value=Fe.data;let Ue=Ge(oe.value,{name:"Cash"});ne.value.payment_mode_id=Ue.xid}),_.value=="purchases"?x.value=C:_.value=="sales"?x.value=E:_.value=="sales-returns"?x.value=O:_.value=="purchase-returns"?x.value=M:_.value=="quotations"?x.value=[]:_.value=="stock-transfers"&&(x.value=E)});const he=()=>{de.value=[],de.value.push(ne.value);const p={...q.value,order_type:k.value.type,total:q.value.subtotal,total_items:I.value.length,product_items:I.value,pay_object:D.value,all_payments:de.value};l({url:_.value,data:p,successMessage:o(`${k.value.langKey}.created`),success:T=>{ge.push({name:`admin.stock.${_.value}.index`})}})},be=()=>{axiosAdmin.get(ue).then(p=>{P.value=p.data})},ke=()=>{axiosAdmin.get(se).then(p=>{i.value=p.data})},Se=()=>{axiosAdmin.get(ie).then(p=>{c.value=p.data})},D=A([{pay_amount:0,payment_mode_id:void 0}]),Ae=A([]),Ce=Xe(()=>D.value.length==0?!1:ce(D.value,{description:""})||ce(D.value,{description:null})),me=()=>{let p=0;return Je(D.value,T=>{p+=Number(T.pay_amount)}),{payAmount:p}},Oe=()=>{D.value.push({pay_amount:0,payment_mode_id:void 0})},De=p=>{let T=D.value.indexOf(p);T!==-1&&D.value.splice(T,1),p.id!=""&&Ae.value.push(p.id),me()};return{...Ye(u),formData:q,productsAmount:G,rules:R,loading:n,warehouses:c,taxes:i,onSubmit:he,fetchProducts:X,searchValueSelected:Y,selectedProducts:I,showDeleteConfirm:Z,quantityChanged:J,formatAmountCurrency:j,taxChanged:Q,recalculateFinalTotal:w,appSetting:e,editItem:B,orderPageObject:k,orderItemColumns:m,addEditVisible:$,addEditFormData:ee,addEditFormSubmitting:z,addEditRules:N,addEditPageTitle:H,onAddEditSubmit:ae,onAddEditClose:te,allOrderStatus:x,taxTypes:h,permsArray:W,unitAdded:be,taxAdded:ke,warehouseAdded:Se,inputValueChanged:le,addFormField:Oe,removeFormField:De,addFormButtonStatus:Ce,formFields:D,paymentModes:oe,payAmountTotal:me,payment:ne}}},Ra={class:"small-text-message"},ja={style:{display:"flex"}},Ia={style:{display:"flex"}},qa=U("br",null,null,-1),Va={style:{display:"flex"}},Ma={style:{display:"flex"}};function Ka(l,n,R,e,V,j){const h=v("SaveOutlined"),b=ye,C=$e,E=v("router-link"),O=ea,M=aa,W=v("AdminPageHeader"),K=ta,m=la,u=oa,_=ya,k=na,I=v("WarehouseAddButton"),q=v("UserSearch"),G=v("DateTimePicker"),i=da,re=v("SearchOutlined"),X=ra,Y=v("ProductAddButton"),J=sa,w=ua,Z=v("EditOutlined"),Q=v("DeleteOutlined"),B=ia,$=ma,ee=ca,z=_a,N=v("TaxAddButton"),H=pa,ae=fa,te=v("admin-page-table-content"),le=Ze;return s(),f(g,null,[t(W,null,{header:a(()=>[t(C,{title:l.$t(`menu.${e.orderPageObject.menuKey}`),onBack:n[0]||(n[0]=()=>l.$router.go(-1)),class:"p-0"},{extra:a(()=>[t(b,{type:"primary",loading:e.loading,onClick:e.onSubmit,block:""},{icon:a(()=>[t(h)]),default:a(()=>[r(" "+d(l.$t("common.save")),1)]),_:1},8,["loading","onClick"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(M,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(O,null,{default:a(()=>[t(E,{to:{name:"admin.dashboard.index"}},{default:a(()=>[r(d(l.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(O,null,{default:a(()=>[r(d(e.orderPageObject.type=="sales"||e.orderPageObject.type=="sales-returns"||e.orderPageObject.type=="quotations"?l.$t("menu.sales"):l.$t("menu.purchases")),1)]),_:1}),t(O,null,{default:a(()=>[t(E,{to:{name:`admin.stock.${e.orderPageObject.type}.index`}},{default:a(()=>[r(d(l.$t(`menu.${e.orderPageObject.menuKey}`)),1)]),_:1},8,["to"])]),_:1}),t(O,null,{default:a(()=>[r(d(l.$t("common.create")),1)]),_:1})]),_:1})]),_:1}),t(te,null,{default:a(()=>[t(ae,{class:"page-content-container mt-20 mb-20"},{default:a(()=>[t(H,{layout:"vertical"},{default:a(()=>[t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,{label:l.$t("stock.invoice_number"),name:"invoice_number",help:e.rules.invoice_number?e.rules.invoice_number.message:null,validateStatus:e.rules.invoice_number?"error":null},{default:a(()=>[t(K,{value:e.formData.invoice_number,"onUpdate:value":n[1]||(n[1]=o=>e.formData.invoice_number=o),placeholder:l.$t("common.placeholder_default_text",[l.$t("stock.invoice_number")])},null,8,["value","placeholder"]),U("small",Ra,d(l.$t("stock.invoie_number_blank")),1)]),_:1},8,["label","help","validateStatus"])]),_:1}),e.orderPageObject.type=="stock-transfers"?(s(),y(u,{key:0,xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,{label:l.$t(`${e.orderPageObject.langKey}.warehouse`),name:"warehouse_id",help:e.rules.warehouse_id?e.rules.warehouse_id.message:null,validateStatus:e.rules.warehouse_id?"error":null,class:"required"},{default:a(()=>[U("span",ja,[t(k,{value:e.formData.warehouse_id,"onUpdate:value":n[2]||(n[2]=o=>e.formData.warehouse_id=o),placeholder:l.$t("common.select_default_text",[l.$t(`${e.orderPageObject.langKey}.warehouse`)]),allowClear:!0,optionFilterProp:"title","show-search":""},{default:a(()=>[(s(!0),f(g,null,F(e.warehouses,o=>(s(),y(_,{key:o.xid,value:o.xid,title:o.name},{default:a(()=>[r(d(o.name),1)]),_:2},1032,["value","title"]))),128))]),_:1},8,["value","placeholder"]),t(I,{onOnAddSuccess:e.warehouseAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})):(s(),y(u,{key:1,xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(q,{orderPageObject:e.orderPageObject,rules:e.rules,usersList:[],editOrderDisable:!1,onOnSuccess:n[3]||(n[3]=o=>e.formData.user_id=o)},null,8,["orderPageObject","rules"])]),_:1})),t(u,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,{label:l.$t(`${e.orderPageObject.langKey}.${e.orderPageObject.langKey}_date`),name:"order_date",help:e.rules.order_date?e.rules.order_date.message:null,validateStatus:e.rules.order_date?"error":null,class:"required"},{default:a(()=>[t(G,{dateTime:e.formData.order_date,onDateTimeChanged:n[4]||(n[4]=o=>e.formData.order_date=o)},null,8,["dateTime"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("product.product"),name:"orderSearchTerm",help:e.rules.product_items?e.rules.product_items.message:null,validateStatus:e.rules.product_items?"error":null},{default:a(()=>[U("span",Ia,[t(k,{value:null,searchValue:l.orderSearchTerm,"show-search":"","filter-option":!1,placeholder:l.$t("product.search_scan_product"),style:{width:"100%"},"not-found-content":l.productFetching?void 0:null,onSearch:n[5]||(n[5]=o=>{l.orderSearchTerm=o,e.fetchProducts(o)}),size:"large","option-label-prop":"label",onFocus:n[6]||(n[6]=o=>l.products=[]),onSelect:e.searchValueSelected,onInputKeyDown:e.inputValueChanged},Qe({suffixIcon:a(()=>[t(re)]),default:a(()=>[(s(!0),f(g,null,F(l.products,o=>(s(),y(_,{key:o.xid,value:o.xid,label:o.name,product:o},{default:a(()=>[r(" => "+d(o.name),1)]),_:2},1032,["value","label","product"]))),128))]),_:2},[l.productFetching?{name:"notFoundContent",fn:a(()=>[t(X,{size:"small"})]),key:"0"}:void 0]),1032,["searchValue","placeholder","not-found-content","onSelect","onInputKeyDown"]),t(Y,{size:"large"})])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(ee,{"row-key":o=>o.xid,dataSource:e.selectedProducts,columns:e.orderItemColumns,pagination:!1},{bodyCell:a(({column:o,record:c})=>[o.dataIndex==="name"?(s(),f(g,{key:0},[r(d(c.name)+" ",1),qa,U("small",null,[c.product_type!="service"?(s(),y(J,{key:0,code:""},{default:a(()=>[r(d(l.$t("product.avl_qty"))+" "+d(`${c.stock_quantity}${c.unit_short_name}`),1)]),_:2},1024)):S("",!0)])],64)):S("",!0),o.dataIndex==="unit_quantity"?(s(),y(w,{key:1,id:"inputNumber",value:c.quantity,"onUpdate:value":P=>c.quantity=P,onChange:P=>e.quantityChanged(c),min:0},null,8,["value","onUpdate:value","onChange"])):S("",!0),o.dataIndex==="single_unit_price"?(s(),f(g,{key:2},[r(d(e.formatAmountCurrency(c.single_unit_price)),1)],64)):S("",!0),o.dataIndex==="total_discount"?(s(),f(g,{key:3},[r(d(e.formatAmountCurrency(c.total_discount)),1)],64)):S("",!0),o.dataIndex==="total_tax"?(s(),f(g,{key:4},[r(d(e.formatAmountCurrency(c.total_tax)),1)],64)):S("",!0),o.dataIndex==="subtotal"?(s(),f(g,{key:5},[r(d(e.formatAmountCurrency(c.subtotal)),1)],64)):S("",!0),o.dataIndex==="action"?(s(),f(g,{key:6},[t(b,{type:"primary",onClick:P=>e.editItem(c),style:{"margin-left":"4px"}},{icon:a(()=>[t(Z)]),_:2},1032,["onClick"]),t(b,{type:"primary",onClick:P=>e.showDeleteConfirm(c),style:{"margin-left":"4px"}},{icon:a(()=>[t(Q)]),_:2},1032,["onClick"])],64)):S("",!0)]),summary:a(()=>[t($,null,{default:a(()=>[t(B,{"col-span":4}),t(B,null,{default:a(()=>[r(d(l.$t("product.subtotal")),1)]),_:1}),t(B,null,{default:a(()=>[r(d(e.formatAmountCurrency(e.productsAmount.tax)),1)]),_:1}),t(B,{"col-span":2},{default:a(()=>[r(d(e.formatAmountCurrency(e.productsAmount.subtotal)),1)]),_:1})]),_:1})]),_:1},8,["row-key","dataSource","columns"])]),_:1})]),_:1}),t(i,{gutter:16,class:"mt-30"},{default:a(()=>[t(u,{xs:24,sm:24,md:16,lg:16},{default:a(()=>[t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("warehouse.terms_condition"),name:"terms_condition",help:e.rules.terms_condition?e.rules.terms_condition.message:null,validateStatus:e.rules.terms_condition?"error":null},{default:a(()=>[t(z,{value:e.formData.terms_condition,"onUpdate:value":n[7]||(n[7]=o=>e.formData.terms_condition=o),placeholder:l.$t("warehouse.terms_condition"),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("stock.notes"),name:"notes",help:e.rules.notes?e.rules.notes.message:null,validateStatus:e.rules.notes?"error":null},{default:a(()=>[t(z,{value:e.formData.notes,"onUpdate:value":n[8]||(n[8]=o=>e.formData.notes=o),placeholder:l.$t("stock.notes"),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1}),t(u,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[e.orderPageObject.type!="quotations"?(s(),y(i,{key:0,gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("stock.status"),name:"order_status",help:e.rules.order_status?e.rules.order_status.message:null,validateStatus:e.rules.order_status?"error":null,class:"required"},{default:a(()=>[t(k,{value:e.formData.order_status,"onUpdate:value":n[9]||(n[9]=o=>e.formData.order_status=o),placeholder:l.$t("common.select_default_text",[l.$t("stock.status")]),allowClear:!0},{default:a(()=>[(s(!0),f(g,null,F(e.allOrderStatus,o=>(s(),y(_,{key:o.key,value:o.key},{default:a(()=>[r(d(o.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):S("",!0),t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("stock.order_tax"),name:"tax_id",help:e.rules.tax_id?e.rules.tax_id.message:null,validateStatus:e.rules.tax_id?"error":null},{default:a(()=>[U("span",Va,[t(k,{value:e.formData.tax_id,"onUpdate:value":n[10]||(n[10]=o=>e.formData.tax_id=o),placeholder:l.$t("common.select_default_text",[l.$t("stock.order_tax")]),allowClear:!0,onChange:e.taxChanged,optionFilterProp:"title","show-search":""},{default:a(()=>[(s(!0),f(g,null,F(e.taxes,o=>(s(),y(_,{key:o.xid,value:o.xid,title:o.name,tax:o},{default:a(()=>[r(d(o.name)+" ("+d(o.rate)+"%) ",1)]),_:2},1032,["value","title","tax"]))),128))]),_:1},8,["value","placeholder","onChange"]),t(N,{onOnAddSuccess:e.taxAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("stock.discount"),name:"discount",help:e.rules.discount?e.rules.discount.message:null,validateStatus:e.rules.discount?"error":null},{default:a(()=>[t(w,{value:e.formData.discount,"onUpdate:value":n[11]||(n[11]=o=>e.formData.discount=o),placeholder:l.$t("common.placeholder_default_text",[l.$t("stock.discount")]),onChange:e.recalculateFinalTotal,min:"0",style:{width:"100%"}},{addonBefore:a(()=>[r(d(e.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder","onChange"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("stock.shipping"),name:"shipping",help:e.rules.shipping?e.rules.shipping.message:null,validateStatus:e.rules.shipping?"error":null},{default:a(()=>[t(w,{value:e.formData.shipping,"onUpdate:value":n[12]||(n[12]=o=>e.formData.shipping=o),placeholder:l.$t("common.placeholder_default_text",[l.$t("stock.shipping")]),onChange:e.recalculateFinalTotal,min:"0",style:{width:"100%"}},{addonBefore:a(()=>[r(d(e.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder","onChange"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),e.orderPageObject.type=="sales"||e.orderPageObject.type=="sales-returns"||e.orderPageObject.type=="purchases"||e.orderPageObject.type=="purchase-returns"?(s(),y(i,{key:1,gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("stock.paid_payment"),name:"paid_payment",help:e.rules.paid_payment?e.rules.paid_payment.message:null,validateStatus:e.rules.paid_payment?"error":null},{default:a(()=>[t(w,{value:e.payment.amount,"onUpdate:value":n[14]||(n[14]=o=>e.payment.amount=o),placeholder:l.$t("common.placeholder_default_text",[l.$t("stock.paid_payment")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[r(d(e.appSetting.currency.symbol),1)]),addonAfter:a(()=>[t(k,{value:e.payment.payment_mode_id,"onUpdate:value":n[13]||(n[13]=o=>e.payment.payment_mode_id=o),style:{width:"120px"}},{default:a(()=>[(s(!0),f(g,null,F(e.paymentModes,o=>(s(),y(_,{key:o.xid,value:o.xid},{default:a(()=>[r(d(o.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):S("",!0),t(i,{gutter:16,class:"mt-10"},{default:a(()=>[t(u,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[r(d(l.$t("stock.order_tax")),1)]),_:1}),t(u,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[r(d(e.formatAmountCurrency(e.formData.tax_amount)),1)]),_:1})]),_:1}),t(i,{gutter:16,class:"mt-10"},{default:a(()=>[t(u,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[r(d(l.$t("stock.discount")),1)]),_:1}),t(u,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[r(d(e.formatAmountCurrency(e.formData.discount)),1)]),_:1})]),_:1}),t(i,{gutter:16,class:"mt-10"},{default:a(()=>[t(u,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[r(d(l.$t("stock.shipping")),1)]),_:1}),t(u,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[r(d(e.formatAmountCurrency(e.formData.shipping)),1)]),_:1})]),_:1}),t(i,{gutter:16,class:"mt-10"},{default:a(()=>[t(u,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[r(d(l.$t("stock.grand_total")),1)]),_:1}),t(u,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[r(d(e.formatAmountCurrency(e.formData.subtotal)),1)]),_:1})]),_:1}),t(i,{gutter:16,class:"mt-20 mb-20"},{default:a(()=>[t(b,{type:"primary",loading:e.loading,onClick:e.onSubmit,block:""},{icon:a(()=>[t(h)]),default:a(()=>[r(" "+d(l.$t("common.save")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(le,{open:e.addEditVisible,closable:!1,centered:!0,title:e.addEditPageTitle,onOk:e.onAddEditSubmit},{footer:a(()=>[t(b,{key:"submit",type:"primary",loading:e.addEditFormSubmitting,onClick:e.onAddEditSubmit},{icon:a(()=>[t(h)]),default:a(()=>[r(" "+d(l.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(b,{key:"back",onClick:e.onAddEditClose},{default:a(()=>[r(d(l.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(H,{layout:"vertical"},{default:a(()=>[t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("product.unit_price"),name:"unit_price",help:e.addEditRules.unit_price?e.addEditRules.unit_price.message:null,validateStatus:e.addEditRules.unit_price?"error":null},{default:a(()=>[t(w,{value:e.addEditFormData.unit_price,"onUpdate:value":n[15]||(n[15]=o=>e.addEditFormData.unit_price=o),placeholder:l.$t("common.placeholder_default_text",[l.$t("product.unit_price")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[r(d(e.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("product.discount"),name:"discount_rate",help:e.addEditRules.discount_rate?e.addEditRules.discount_rate.message:null,validateStatus:e.addEditRules.discount_rate?"error":null},{default:a(()=>[t(w,{value:e.addEditFormData.discount_rate,"onUpdate:value":n[16]||(n[16]=o=>e.addEditFormData.discount_rate=o),placeholder:l.$t("common.placeholder_default_text",[l.$t("product.discount")]),min:"0",style:{width:"100%"}},{addonAfter:a(()=>[r("%")]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("product.tax"),name:"tax_id",help:e.addEditRules.tax_id?e.addEditRules.tax_id.message:null,validateStatus:e.addEditRules.tax_id?"error":null},{default:a(()=>[U("span",Ma,[t(k,{value:e.addEditFormData.tax_id,"onUpdate:value":n[17]||(n[17]=o=>e.addEditFormData.tax_id=o),placeholder:l.$t("common.select_default_text",[l.$t("product.tax")]),allowClear:!0,optionFilterProp:"title","show-search":""},{default:a(()=>[(s(!0),f(g,null,F(e.taxes,o=>(s(),y(_,{key:o.xid,value:o.xid,title:o.name},{default:a(()=>[r(d(o.name)+" ("+d(o.rate)+"%) ",1)]),_:2},1032,["value","title"]))),128))]),_:1},8,["value","placeholder"]),t(N,{onOnAddSuccess:e.taxAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(i,{gutter:16},{default:a(()=>[t(u,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:l.$t("product.tax_type"),name:"tax_type",help:e.addEditRules.tax_type?e.addEditRules.tax_type.message:null,validateStatus:e.addEditRules.tax_type?"error":null},{default:a(()=>[t(k,{value:e.addEditFormData.tax_type,"onUpdate:value":n[18]||(n[18]=o=>e.addEditFormData.tax_type=o),placeholder:l.$t("common.select_default_text",[l.$t("product.tax_type")]),allowClear:!0},{default:a(()=>[(s(!0),f(g,null,F(e.taxTypes,o=>(s(),y(_,{key:o.key,value:o.key},{default:a(()=>[r(d(o.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])],64)}const At=_e(Ba,[["render",Ka]]);export{At as default};
